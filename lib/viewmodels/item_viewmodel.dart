import '../models/item.dart';

class ItemViewModel {
  final List<Item> items = [
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),
    Item(imageUrl: 'assets/1.jpg', title: 'spatula', price: 29.99, rating: 0, discount: 5.0),
    Item(imageUrl: 'assets/2.jpg', title: 'Spatula 2', price: 49.99, rating: 0, discount: 20.0),
    Item(imageUrl: 'assets/3.jpg', title: 'shahatet eme', price: 19.99, rating: 0, discount: 10.0),
    Item(imageUrl: 'assets/4.jpg', title: 'shahatet baye', price: 59.99, rating: 0, discount: 15.0),


  ];

  int _currentPage = 0;
  final int _itemsPerPage = 20;
  bool _isLoadingMore = false;

  List<Item> getNextItems() {
    int startIndex = _currentPage * _itemsPerPage;
    int endIndex = startIndex + _itemsPerPage;

    if (startIndex >= items.length) {
      return [];
    }

    List<Item> paginatedItems = items.sublist(startIndex, endIndex.clamp(0, items.length));
    _currentPage++;
    return paginatedItems;
  }

  void resetPagination() {
    _currentPage = 0;
  }

  List<Item> searchItems(String query) {
    String formattedQuery = query.toLowerCase().replaceAll(' ', '');
    return items.where((item) {
      String formattedTitle = item.title.toLowerCase().replaceAll(' ', '');
      return formattedTitle.contains(formattedQuery);
    }).toList();
  }

  bool get isLoadingMore => _isLoadingMore;

  void loadMoreItems(Function onItemsLoaded) {
    if (!_isLoadingMore) {
      _isLoadingMore = true;
      Future.delayed(Duration(seconds: 2), () {
        _isLoadingMore = false;
        onItemsLoaded();
      });
    }
  }
}
